<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let str = 'abcbbbbbbbaaaaabakdflsfjdssfhdksafldhsfkdashlfh123213123213akldfjsldfjsa123123A'
        function fn(s) {
            if (s.length == 1) {
                return 1
            } else {
                let arr = s.split("")
                let count = []
                for (let i = 0; i < arr.length; i++) {
                    for (let j = i + 1; j < s.length; j++) {
                        if (arr.slice(i, j + 1).reverse().join("") == arr.slice(i, j + 1).join("")) {
                            console.log(j - i + 1)
                            count.push(j - i + 1)
                        } else {
                            if (j - i > 1) {
                                count.push(3)
                            } else {
                                count.push(2)
                            }
                        }
                    }
                }
                count.sort(function(a,b){return a-b})
                // for(let k=0;k<count.length;k++){
                //     console.log(count[k])
                // }
                return count[count.length - 1]
            }
        }
        console.log(fn(str))
    </script>
</body>

</html>