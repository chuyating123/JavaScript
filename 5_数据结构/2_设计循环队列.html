<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 队列 用push(),shift() -->
    <script>
        class MyCircularQueue {
            constructor(k) {
                this.list = new Array(k)
                this.front = 0
                this.rear = 0
                this.max = k
            }
            Front() {
                if (this.isEmpty()) {
                    return -1
                } else {
                    return this.list[this.front]
                }
            }
            isEmpty() {
                return (this.front === this.rear) && !this.list[this.front]
            }
            isFull() {
                return (this.front === this.rear) && !!this.list[this.front]
            }
            Rear() {
                if (this.isEmpty()) {
                    return -1
                } else {
                    if ((this.rear - 1) < 0) {
                        return this.list[this.max - 1]
                    }
                    return this.list[this.rear - 1]
                }
            }
            enQueue(value) {
                if (this.isFull()) {
                    return false
                } else {
                    this.list[this.rear] = value
                    this.rear = (this.rear + 1) % this.max
                    return true
                }
            }
            deQueue() {
                if (this.isEmpty()) {
                    return false
                } else {
                    this.list[this.front] = null
                    this.front = (this.front + 1) % this.max
                    return true
                }
            }
        }
        let circularQueue = new MyCircularQueue(3); // 设置长度为 3
       console.log(circularQueue.enQueue(1));  // 返回 true
       console.log(circularQueue.enQueue(2));  // 返回 true
       console.log(circularQueue.enQueue(3));  // 返回 true
       console.log(circularQueue.enQueue(4));  // 返回 false，队列已满
       console.log(circularQueue.Rear()) ;  // 返回 3
       console.log(circularQueue.isFull())   // 返回 true
       console.log(circularQueue.deQueue()) ;  // 返回 true
       console.log(circularQueue.enQueue(4)) ;  // 返回 true
       console.log(circularQueue.Rear());  // 返回 4
       circularQueue.isFull()
        // let mc = new MyCircularQueue(5)
        // console.log(mc)
    </script>
</body>

</html>